"use strict";(self.webpackChunkGestorIncidentesFront=self.webpackChunkGestorIncidentesFront||[]).push([[217],{8217:(k,c,n)=>{n.r(c),n.d(c,{UsuariosModule:()=>O});var l=n(4755),p=n(2480),o=n(2223),m=n(3144),f=n(2340);let h=(()=>{class e{constructor(){this.baseUrl=f.N.baseUrl,this.http=(0,o.f3M)(m.eN),this.ApiUrl="api/usuarios"}getUsuarios(){return this.http.get(`${this.baseUrl}/${this.ApiUrl}`)}getUser(t){return this.http.get(`${this.baseUrl}/${this.ApiUrl}/${t}`)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=o.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var U=n(430),a=n(9401),Z=n(7978);let g=(()=>{class e{constructor(){this.fb=(0,o.f3M)(a.qu),this.validatorService=(0,o.f3M)(Z.S),this.modalOff=new o.vpe,this.miFormulario=this.fb.group({id:[0],username:["",[a.kI.required]],nombre:["",[a.kI.required]],password:["",[a.kI.required]],apellido:["",[a.kI.required]],telefono:["",[a.kI.required]],role:[0,[a.kI.required]],tipoDocumento:[0,[a.kI.required]],dependencia:[0,[a.kI.required]]})}ngOnChanges(t){if(0!==this.UsuarioInput.id){const{id:i,nombre:d,apellido:s,username:u,correo:F,numDocumento:I,dependencia:y,role:S,tipoDocumento:_}=this.UsuarioInput;this.miFormulario.setValue({id:i,nombre:d,apellido:s,username:u,correo:F,numDocumento:I,dependencia:y,role:S,tipoDocumento:_})}}onSubmit(){this.miFormulario.invalid?this.miFormulario.markAllAsTouched():console.log(this.miFormulario.value)}cerrarModal(){this.modalOff.emit(!1),this.miFormulario.reset()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-usuarioModal"]],inputs:{UsuarioInput:"UsuarioInput"},outputs:{modalOff:"modalOff"},features:[o.TTD],decls:2,vars:0,template:function(t,i){1&t&&(o.TgZ(0,"p"),o._uU(1,"usuario-modal works!"),o.qZA())}}),e})();function A(e,r){if(1&e){const t=o.EpF();o.TgZ(0,"tr")(1,"th",9),o._uU(2),o.qZA(),o.TgZ(3,"td"),o._uU(4),o.ALo(5,"titlecase"),o.qZA(),o.TgZ(6,"td"),o._uU(7),o.qZA(),o.TgZ(8,"td"),o._uU(9),o.qZA(),o.TgZ(10,"td"),o._uU(11),o.qZA(),o.TgZ(12,"td"),o._uU(13),o.qZA(),o.TgZ(14,"td"),o._uU(15),o.qZA(),o.TgZ(16,"td"),o._uU(17),o.qZA(),o.TgZ(18,"td"),o._uU(19),o.ALo(20,"date"),o.qZA(),o.TgZ(21,"td"),o._uU(22),o.ALo(23,"date"),o.qZA(),o.TgZ(24,"td")(25,"div",10)(26,"button",11),o.NdJ("click",function(){const s=o.CHM(t).$implicit,u=o.oxw();return o.KtG(u.editarIncidente(s))}),o._UZ(27,"i",12),o._uU(28," Editar "),o.qZA(),o.TgZ(29,"button",13),o.NdJ("click",function(){const s=o.CHM(t).$implicit,u=o.oxw();return o.KtG(u.eliminarIncidente(s))}),o._UZ(30,"i",14),o._uU(31," Eliminar "),o.qZA()()()()}if(2&e){const t=r.$implicit;o.xp6(2),o.Oqu(t.id),o.xp6(2),o.Oqu(o.lcZ(5,10,t.nombre)),o.xp6(3),o.Oqu(t.apellido),o.xp6(2),o.Oqu(t.correo),o.xp6(2),o.Oqu(t.dependencia),o.xp6(2),o.Oqu(t.telefono),o.xp6(2),o.Oqu(t.numDocumento),o.xp6(2),o.Oqu(t.role),o.xp6(2),o.Oqu(o.lcZ(20,12,t.createdAt)),o.xp6(3),o.Oqu(o.lcZ(23,14,t.updatedAt))}}let T=(()=>{class e{constructor(){this.usuarios=[],this.usuariosService=(0,o.f3M)(h),this.usuarioSeleccionado={id:0,username:"",password:"",nombre:"",apellido:"",telefono:"",numDocumento:"",correo:"",role:0,tipoDocumento:0,dependencia:0,estado:!0},this.modalOn=!1,this.obtenerUsuarios()}obtenerUsuarios(){this.usuariosService.getUsuarios().subscribe(({usuariosMy:t,usuariosMo:i})=>{this.usuarios=t||i})}crearRole(){}editarIncidente(t){console.log("Clickeado editar",t.rol_nombre),this.usuarioSeleccionado=t}eliminarIncidente(t){console.log("Clickeado elimiar",t.nombre),this.usuarioSeleccionado=t}onCloseModal(t){this.modalOn=t,this.usuarioSeleccionado={id:0,username:"",password:"",nombre:"",apellido:"",telefono:"",numDocumento:"",correo:"",role:0,tipoDocumento:0,dependencia:0,estado:!0}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-listado"]],decls:35,vars:2,consts:[[1,"container-fluid","p-0","m-0"],[1,"row","d-flex","justify-content-around","m-0","p-0"],[1,"col","p-2"],["type","button","data-bs-toggle","modal","data-bs-target","#Modal",1,"btn","btn-primary","rounded-circle","btnCustom"],[1,"col","d-flex","justify-content-end","p-2"],[1,"table","table-bordered","table-hover","text-center"],["scope","col"],[4,"ngFor","ngForOf"],[3,"UsuarioInput","modalOff"],["scope","row"],[1,"d-flex","justify-content-center","align-content-center"],["type","button","data-bs-toggle","modal","data-bs-target","#Modal",1,"btn","btn-warning","btn-sm","me-1",3,"click"],["aria-hidden","true",1,"fa","fa-pencil"],["type","button",1,"btn","btn-danger","btn-sm","me-1",3,"click"],["aria-hidden","true",1,"fa","fa-trash-o"]],template:function(t,i){1&t&&(o.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3)(4,"mat-icon"),o._uU(5,"add"),o.qZA()()(),o._UZ(6,"div",4),o.qZA(),o.TgZ(7,"table",5)(8,"thead")(9,"tr")(10,"th",6),o._uU(11,"#"),o.qZA(),o.TgZ(12,"th",6),o._uU(13,"nombre"),o.qZA(),o.TgZ(14,"th",6),o._uU(15,"apellido"),o.qZA(),o.TgZ(16,"th",6),o._uU(17,"correo"),o.qZA(),o.TgZ(18,"th",6),o._uU(19,"dependencia"),o.qZA(),o.TgZ(20,"th",6),o._uU(21,"telefono"),o.qZA(),o.TgZ(22,"th",6),o._uU(23,"numDocumento"),o.qZA(),o.TgZ(24,"th",6),o._uU(25,"role"),o.qZA(),o.TgZ(26,"th",6),o._uU(27,"Fecha Creacion"),o.qZA(),o.TgZ(28,"th",6),o._uU(29,"Fecha Ultima Actualizacion"),o.qZA(),o.TgZ(30,"th",6),o._uU(31,"Acciones"),o.qZA()()(),o.TgZ(32,"tbody"),o.YNc(33,A,32,16,"tr",7),o.qZA()(),o.TgZ(34,"app-usuarioModal",8),o.NdJ("modalOff",function(s){return i.onCloseModal(s)}),o.qZA()()),2&t&&(o.xp6(33),o.Q6J("ngForOf",i.usuarios),o.xp6(1),o.Q6J("UsuarioInput",i.usuarioSeleccionado))},dependencies:[l.sg,U.Hw,g,l.rS,l.uU]}),e})(),b=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-perfil"]],decls:2,vars:0,template:function(t,i){1&t&&(o.TgZ(0,"p"),o._uU(1,"perfil works!"),o.qZA())}}),e})();const v=[{path:"",children:[{path:"listado",canActivate:[n(5399).EQ],component:T},{path:"perfil",component:b},{path:"**",redirectTo:"listado"}]}];let C=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({imports:[p.Bz.forChild(v),p.Bz]}),e})();var M=n(3440),x=n(5503);let O=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({imports:[l.ez,M.q,a.UX,x.D,C]}),e})()}}]);